<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parkour Game</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            overflow: hidden;
            background-color: #87CEEB; /* Sky blue */
        }

        #gameContainer {
            width: 100vw;
            height: 100vh;
            position: relative;
            overflow: hidden;
        }

        #gameArea {
            width: 2000px; /* Wider than viewport to allow scrolling */
            height: 100vh;
            position: absolute;
            background-color: #8B4513; /* Ground color */
        }

        .player, .enemy, .fox {
            position: absolute;
            border-radius: 50%;
        }

        .player {
            width: 40px;
            height: 40px;
            background-color: #FFD700; /* Gold */
        }

        .enemy {
            width: 40px;
            height: 40px;
            background-color: #FF6347; /* Tomato */
        }

        .fox {
            width: 50px;
            height: 50px;
            background-color: #FF4500; /* Orange Red */
        }

        .shield {
            border: 2px solid #00FF00; /* Green */
        }

        #info {
            position: absolute;
            top: 10px;
            left: 10px;
            color: #fff;
            font-size: 24px;
        }
    </style>
</head>
<body>
    <div id="gameContainer">
        <div id="gameArea">
            <div id="player" class="player"></div>
            <div id="enemy1" class="enemy"></div>
            <div id="enemy2" class="enemy"></div>
            <div id="fox" class="fox"></div>
        </div>
        <div id="info">
            <div id="score">Score: 0</div>
            <div id="status">Status: Alive</div>
        </div>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const player = document.getElementById('player');
            const enemies = [document.getElementById('enemy1'), document.getElementById('enemy2')];
            const fox = document.getElementById('fox');
            const scoreDisplay = document.getElementById('score');
            const statusDisplay = document.getElementById('status');

            let score = 0;
            let isShieldActive = false;
            let playerX = 100;
            let playerY = 0;
            const playerSpeed = 5;
            const jumpHeight = 10;
            const gravity = 0.5;
            let velocityY = 0;
            const enemySpeed = 3;
            let gameOver = false;

            function updateScore() {
                scoreDisplay.textContent = `Score: ${score}`;
            }

            function movePlayer(dx, dy) {
                if (gameOver) return;

                playerX += dx;
                playerY += dy;
                player.style.left = `${playerX}px`;
                player.style.top = `${playerY}px`;
                checkCollisions();
            }

            function jump() {
                if (gameOver) return;
                if (playerY === 0) { // Can only jump if on the ground
                    velocityY = -jumpHeight;
                }
            }

            function activateShield() {
                isShieldActive = true;
                player.classList.add('shield');
            }

            function deactivateShield() {
                isShieldActive = false;
                player.classList.remove('shield');
            }

            function moveEnemies() {
                enemies.forEach(enemy => {
                    const rect = enemy.getBoundingClientRect();
                    const px = parseFloat(player.style.left || 0);
                    const py = parseFloat(player.style.top || 0);
                    const ex = parseFloat(enemy.style.left || 0);
                    const ey = parseFloat(enemy.style.top || 0);

                    if (ex < px) {
                        enemy.style.left = `${ex + enemySpeed}px`;
                    } else {
                        enemy.style.left = `${ex - enemySpeed}px`;
                    }

                    if (ey < py) {
                        enemy.style.top = `${ey + enemySpeed}px`;
                    } else {
                        enemy.style.top = `${ey - enemySpeed}px`;
                    }
                });
            }

            function checkCollisions() {
                enemies.forEach(enemy => {
                    const enemyRect = enemy.getBoundingClientRect();
                    const playerRect = player.getBoundingClientRect();
                    if (playerRect.left < enemyRect.right && playerRect.right > enemyRect.left &&
                        playerRect.top < enemyRect.bottom && playerRect.bottom > enemyRect.top) {
                        if (isShieldActive) {
                            // Player survives if shield is active
                            deactivateShield();
                        } else {
                            gameOver = true;
                            statusDisplay.textContent = 'Status: Game Over';
                            alert('Game Over! Your score: ' + score);
                        }
                    }
                });

                const foxRect = fox.getBoundingClientRect();
                const playerRect = player.getBoundingClientRect();
                if (playerRect.left < foxRect.right && playerRect.right > foxRect.left &&
                    playerRect.top < foxRect.bottom && playerRect.bottom > foxRect.top) {
                    score += 100;
                    updateScore();
                    alert('Congratulations! You reached the fox!');
                    resetGame();
                }
            }

            function resetGame() {
                playerX = 100;
                playerY = 0;
                player.style.left = `${playerX}px`;
                player.style.top = `${playerY}px`;
                score = 0;
                updateScore();
                enemies.forEach(enemy => {
                    enemy.style.left = `${Math.random() * 2000}px`;
                    enemy.style.top = `${Math.random() * 600}px`;
                });
                fox.style.left = `${Math.random() * 2000}px`;
                fox.style.top = `${Math.random() * 600}px`;
                gameOver = false;
                statusDisplay.textContent = 'Status: Alive';
            }

            function update() {
                if (gameOver) return;

                velocityY += gravity;
                movePlayer(0, velocityY);

                if (playerY > 0) {
                    playerY = 0;
                    velocityY = 0;
                }

                moveEnemies();
                checkCollisions();
                requestAnimationFrame(update);
            }

            document.addEventListener('keydown', event => {
                if (event.key === 'ArrowUp') {
                    jump();
                } else if (event.key === 'ArrowLeft') {
                    movePlayer(-playerSpeed, 0);
                } else if (event.key === 'ArrowRight') {
                    movePlayer(playerSpeed, 0);
                } else if (event.key === 'Shift') {
                    activateShield();
                }
            });

            document.addEventListener('keyup', event => {
                if (event.key === 'Shift') {
                    deactivateShield();
                }
            });

            update();
        });
    </script>
</body>
</html>
